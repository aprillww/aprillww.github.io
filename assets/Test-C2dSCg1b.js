import{r as l,j as e,S as o}from"./index-_z1QwpSS.js";import{E as s,e as m}from"./emailjs-config-DBM4tW46.js";function d(){const[r,a]=l.useState("idle"),[n,i]=l.useState(""),c=async()=>{a("sending");try{const t={from_name:"测试用户",from_company:"测试公司",from_contact:"test@example.com",message:"这是一条测试消息，用于验证EmailJS配置是否正确。",budget:"未确定",timeline:"测试时间",to_email:s.TO_EMAIL};await m.send(s.SERVICE_ID,s.TEMPLATE_ID,t,s.PUBLIC_KEY),a("success"),i("测试邮件发送成功！")}catch(t){a("error"),i(`发送失败: ${t instanceof Error?t.message:"未知错误"}`),console.error("EmailJS测试失败:",t)}};return e.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"EmailJS 配置测试"}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Service ID:"})," ",s.SERVICE_ID]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Template ID:"})," ",s.TEMPLATE_ID]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Public Key:"})," ",s.PUBLIC_KEY.substring(0,8),"..."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"接收邮箱:"})," ",s.TO_EMAIL]})]}),e.jsx("button",{onClick:c,disabled:r==="sending",className:"px-4 py-2 bg-blue-500 text-white rounded disabled:opacity-50",children:r==="sending"?"发送中...":"发送测试邮件"}),n&&e.jsx("div",{className:`mt-4 p-3 rounded ${r==="success"?"bg-green-100 text-green-800":r==="error"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:n})]})}function E(){return e.jsxs(e.Fragment,{children:[e.jsx(o,{title:"功能测试 - LWW · 李雯雯",description:"测试EmailJS邮件发送功能。"}),e.jsxs("section",{className:"mx-auto max-w-4xl px-4 pt-16 md:pt-20",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-6",children:"功能测试页面"}),e.jsx(d,{})]})]})}export{E as default};
